parallel_layer
====

### 概要
+ sinの分類をするため, 判別にもっと文脈を反映したい. その一つの方法として, 横に層を重ねてみる. 同じencoderから2つの異なる層でSDRを作り, その2つを統合する層を作る. 直列層を追加したのと同様のことが起きると予想.

### 対象関数
+ 定数(flat)     : y = 50
+ 単調増加(plus)  : y = x
+ 単調減少(minus) : y = 100-x

### モデル
+ CLA
  + (SP) カラム数    : 2025
  + (SP) カラム発火数: 20(1%)
  + (TP) 1カラム当たりのセル数: 8
  + 学習回数 : 100回
+ 層構造
  + 同じencoderから２つの異なる層(並列層)を作り, その２つの層を統合する層を１つ作る.
  + 層同士の結合部分では, TPの出力をSPの入力としている.
  + また, 並列層のカラム中セル数を異なる状態にしてみた場合も試した. (セル数4, 8)


### 結果
#### 平均正解率
+ 同一条件の並列層
  + 2層目の方が全体的な結果は良くなっていることが分かる.

  | function_type | 1-1 layer | 1-2 layer | 2 layer |
  | -----         | -----     | -----     | -----   |
  | flat          | 0.784     | 0.784     | 0.913   |
  | plus          | 0.858     | 0.858     | 0.867   |
  | minus         | 0.902     | 0.902     | 0.903   |

+ 異なる条件の並列層

  | function_type | 1-1 layer | 1-2 layer | 2 layer |
  | -----         | -----     | -----     | -----   |
  | flat          | 0.788     | 0.750     | 0.930  |
  | plus          | 0.860     | 0.857     | 0.913  |
  | minus         | 0.893     | 0.889     | 0.950  |

+ 入力毎正解率, 入力毎正解率(layer毎) は直列層とほぼ同じような結果

### 結論
+ 直列層のときと同様に, 交点付近以外では精度が良くなっているが, 交点付近では精度が悪くなっている.
  + まぁ直列層の１層目を２つに増やしてみた, と同じことだから直列層と同じような結果がでるか.
  + 逆に, 並列層を増やしてもあまり効果はないとも言える.
+ また, 並列層の条件を対象変えると, 2層目での結果がよくなった.
  + どちらの層も結果が悪くなる方(カラム中セル数 8 -> 4,2)に変更したので, 下層の結果が良くなったからでなく, アンサンブル学習的な効果か? もしくは, 直列層で見られたように, カラム中セル数を減らしたから, １層目の出力が安定して, ２層目の結果が良くなっただけか. まぁ後者だろう.
  + 異なるセンサーとかの統合とかにしか使い道はないかな.

